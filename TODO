- for word stacking machines add target hooks to specify that arguments
  take 2 bytes even if char, and alloc space correctly both in the func
  declaration/argument side and in the arg stacking (arg passing side done)
- rewrite x = x + .. and x = x -... etc as += -=
- Turn the frame the other way up ?
- Track register state on backend
- Some way to hash the symbol lookup without blowing up all the memory usage
- Type mapper in target, double and longlong handling

Broken 
-	constify needs a hard stare or two
-	array of struct initializer seems to fail (sprintf case)

Longer term
- variable length array syntax
- z80 6809 style helpers for catching simpler ops and doing them via pairs
  of (ix) ops
- backend hooks for building stack frame via initializers
- literal based handling for some types (set by target) - eg double/longlong
  so that we pass pointers around including one to a memory "register". 
  &x will need care as do casts
- do we want to go to some kind of table rule parsing model over the
  current code based one ?
- look at some kind of simple register assignment rewriting so that 6803/6809
  etc can try and rewrite some subtrees to use an index register, and maybe
  also eliminate the push case for some of those
- how to deal with Z80 sanely
- simple register tracking helper library
- rewrite && and || and maybe ?: so that we don't have
  (AND (BOOL (x)) (BOOL(y))) but some kind of
  BOOL(AND(CC(x) CC(y))) and work on condition code plus a tidy if needed so
  that we can have ccode setting trees that drop the top bool if the CC is
  ok.
- 6809 - use pshs/puls as a sneaky tight way to mod the stack
- Optimizer pass for tree rearrangement ?
- Whilst we need to be careful for side effects on * 0, we don't for and/or
  subtrees with && || so should deal with those
- cc0 and the -32768 funny (understand a little of previous token is needed)
- target 'ptr_arith_type_of(x)' and cast ptr/ptr hooks. Need these so we can
  word machines and charptrs etc also mapper for ptrdiff_t
- native compile support for machines where a pointer is a native long type. Cross
  is going to be fine usually
- Write tree size before each expr and load and chain multiple trees if room
  Does need care handling any extra header stuff in the way.
- Can we walk the subtrees looking for the most repeated left/right expensive
  refs (ie locals on 8080 or Z80) and rewrite the tree so the most common is
  in BC, then work up the tree to decide what to use BC for ?
